<!DOCTYPE html>
<html>
  <head>
    <title>Job Application Portal</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container mt-5">
      <h1>Job Application Portal</h1>
      <hr />

      <div id="login-form" style="display: none">
        <h3>Login</h3>
        <form id="login">
          <div class="form-group">
            <label for="email">Email:</label>
            <input
              type="email"
              class="form-control"
              id="email"
              placeholder="Enter email"
            />
          </div>
          <div class="form-group">
            <label for="password">Password:</label>
            <input
              type="password"
              class="form-control"
              id="password"
              placeholder="Enter password"
            />
          </div>
          <div class="text-center">
            <button type="submit" class="btn btn-primary mt-2 mb-3">Submit</button>
            <p id="signup-link" style="cursor: pointer;">Not registered? Sign up</p>
          </div>

        </form>
      </div>

      <div id="signup-form" style="display: block">
        <h3>Sign Up</h3>
        <form id="signup-form">
          <div class="form-group">
            <label for="name">Name:</label>
            <input
              type="text"
              class="form-control"
              id="name"
              placeholder="Enter name"
            />
          </div>
          <div class="form-group">
            <label for="email">Email:</label>
            <input
              type="email"
              class="form-control"
              id="email"
              placeholder="Enter email"
            />
          </div>
          <div class="form-group">
            <label for="password">Password:</label>
            <input
              type="password"
              class="form-control"
              id="password"
              placeholder="Enter password"
            />
          </div>
          <div class="form-group">
            <label for="contact">Contact:</label>
            <input
              type="text"
              class="form-control"
              id="contact"
              placeholder="Enter contact number"
            />
          </div>
          <div class="form-group">
            <label for="role">Role:</label>
            <select class="form-control" id="role">
              <option value="student">Student</option>
              <option value="employer">Employer</option>
              <!-- <option value="placement_officer">Placement Officer</option> -->
            </select>
          </div>
          <div class="text-center">
            <button type="submit" class="btn btn-primary mb-3 mt-2">Submit</button>
            <p id="login-link" style="cursor: pointer;">Already registered? Login</p>
          </div>
        </form>
      </div>
      
      <div id="dashboard" style="display: none">
        <h3>Welcome <span id="username"></span></h3>
        <p id="role"></p>
        <button id="logout-btn" class="btn btn-danger">Logout</button>
      </div>
    </div>

 <!-- Include jQuery and Bootstrap JS -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
      // Switch to sign-up form with fade effect
      $("#signup-link").on("click", function() {
        $("#login-form").fadeOut(500, function() {
          $("#signup-form").fadeIn(200);
        });
      });
  
      // Switch to login form with fade effect
      $("#login-link").on("click", function() {
        $("#signup-form").fadeOut(500, function() {
          $("#login-form").fadeIn(200);
        });
      });
    </script>
    <!-- <script>
      // Switch to sign-up form when "Not registered? Sign up" link is clicked
      $("#signup-link").on("click", function() {
        $("#login-form").hide();
        $("#signup-form").show();
      });
  
      // Switch to login form when "Already registered? Login" link is clicked
      $("#login-link").on("click", function() {
        $("#signup-form").hide();
        $("#login-form").show();
      });
    </script> -->

    <!--
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <script>
    // Add event listener for login form submit
    $('#login-form').on('submit', function (e) {
      e.preventDefault();

      // Get email and password from form input
      const email = $('#email').val();
      const password = $('#password').val();

      // Send login request to backend API
      $.post('/login', { email, password })
        .done(function (response) {
          // If login is successful, hide login form and show dashboard
          $('#login-form').hide();
          $('#dashboard').show();
          // Set username and role in dashboard
          $('#username').text(response.user.name);
          $('#role').text('Role: ' + response.user.role);
        })
        .fail(function (error) {
          // Display error message if login fails
          alert('Failed to login: ' + error.responseText);
        });
    });

    // Add event listener for logout button click
    $('#logout-btn').on('click', function () {
      // Send logout request to backend API
      $.post('/logout')
        .done(function () {
          // If logout is successful, hide dashboard and show login form
          $('#dashboard').hide();
          $('#login-form').show();
        })
        .fail(function (error) {
          // Display error message if logout fails
          alert('Failed to logout: ' + error.responseText);
        });
    });

  </script>
   -->
  </body>
</html>
